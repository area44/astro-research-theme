@import "tailwindcss";

:root {
  --font-sans: var(--font-inter);
  --small-thumb-border-radius: 2px;
  --larger-thumb-border-radius: 3px;
}

@layer base {
  html {
    @apply text-sm leading-[1.6] md:text-base font-sans;
  }

  body {
    @apply m-0 p-0;
  }

  p {
    @apply mt-0 mb-[1em];
  }

  strong {
    @apply font-semibold;
  }

  img {
    @apply w-full h-auto;
  }
}

.pixelated {
  image-rendering: pixelated;
}

.base-grid,
.n-header,
.n-article,
.n-footer {
  @apply grid justify-items-stretch grid-cols-[[screen-start]_8px_[page-start_kicker-start_text-start_gutter-start_middle-start]_1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr_[text-end_page-end_gutter-end_kicker-end_middle-end]_8px_[screen-end]] gap-x-2;
}
@media (min-width: 768px) {
  .base-grid,
  .n-header,
  .n-article,
  .n-footer {
    @apply grid justify-items-stretch grid-cols-[[screen-start]_1fr_[page-start_kicker-start_middle-start_text-start]_45px_45px_45px_45px_45px_45px_45px_45px_[kicker-end_text-end_gutter-start]_45px_[middle-end]_45px_[page-end_gutter-end]_1fr_[screen-end]] gap-x-4;
  }
  .grid {
    @apply gap-x-4;
  }
}
@media (min-width: 1000px) {
  .base-grid,
  .n-header,
  .n-article,
  .n-footer {
    @apply grid justify-items-stretch grid-cols-[[screen-start]_1fr_[page-start_kicker-start]_50px_[middle-start]_50px_[text-start_kicker-end]_50px_50px_50px_50px_50px_50px_50px_50px_[text-end_gutter-start]_50px_[middle-end]_50px_[page-end_gutter-end]_1fr_[screen-end]] gap-x-4;
  }
  .grid {
    @apply gap-x-4;
  }
}
@media (min-width: 1180px) {
  .base-grid,
  .n-header,
  .n-article,
  .n-footer {
    @apply grid justify-items-stretch grid-cols-[[screen-start]_1fr_[page-start_kicker-start]_60px_[middle-start]_60px_[text-start_kicker-end]_60px_60px_60px_60px_60px_60px_60px_60px_[text-end_gutter-start]_60px_[middle-end]_60px_[page-end_gutter-end]_1fr_[screen-end]] gap-x-8;
  }
  .grid {
    @apply gap-x-8;
  }
}
.base-grid {
  @apply col-[screen];
}

/* default grid column assignments */
.n-title > * {
  @apply col-[text];
}
.n-article > * {
  @apply col-[text];
}
.n-header {
  @apply h-0;
}
.n-footer {
  @apply h-[60px];
}
.n-title {
  @apply pt-16 pb-6 px-0;
}
.l-page {
  @apply col-[page];
}
.l-article {
  @apply col-[text];
}

/*------------------------------------------------------------------*/
/* title */
.n-title h1 {
  @apply text-[#082333] col-[text] text-[40px] font-bold leading-[1.1em] text-center mt-0 mb-2 mx-0 md:text-[50px];
  font-family: var(--font-barlow);
}

/*------------------------------------------------------------------*/
/* article */
.n-article h2 {
  @apply font-semibold text-2xl leading-[1.25em] mt-8 mb-6 mx-0 pb-4 border-b-[rgba(0,0,0,0.1)] border-b border-solid md:text-4xl;
  contain: layout style;
}
@media (min-width: 768px) {
  .n-article {
    @apply leading-[1.7];
  }
}

/*------------------------------------------------------------------*/
/* byline */
.n-byline {
  @apply overflow-hidden text-[0.8rem] leading-[1.8em] min-h-[1.8em] text-[rgb(33,40,53)] mb-8 px-0 py-6 border-y-[rgba(0,0,0,0.1)] border-t border-solid border-b;
  contain: style;
}
.n-byline .byline {
  @apply col-[text] grid-cols-[1fr_1fr_1fr_1fr];
}
.grid {
  @apply grid gap-x-2 md:gap-x-4;
}
.n-byline p {
  @apply m-0;
}
.n-byline h3 {
  @apply text-[0.6rem] font-normal text-[rgba(0,0,0,0.5)] uppercase m-0;
}
.n-byline .authors-affiliations {
  @apply col-end-[span_2] grid-cols-[1fr_1fr];
}
ul.authors {
  @apply list-none text-center m-0 p-0;
}
ul.authors li {
  @apply inline-block px-2 py-0;
}
ul.authors sup {
  @apply text-[rgb(126,126,126)];
}
ul.authors.affiliations {
  @apply mt-2;
}
ul.authors.affiliations li {
  @apply text-[rgb(126,126,126)];
}

/* Download section columns.  This switches between two layouts::after
    - two columns on larger viewport sizes: side-by-side paper thumb and links
    - single column: no thumb
*/
.download-section {
  @apply grid;
  grid-template-areas: "links";
}
.download-section h4 {
  @apply block ml-10;
}
.download-thumb {
  @apply hidden;
  grid-area: thumb;
}
.download-links {
  grid-area: links;
}
img.dropshadow {
  @apply shadow-[0_1px_10px_rgba(0,0,0,0.3)];
}
@media (min-width: 1180px) {
  .download-section {
    @apply grid;
    grid-template-areas: "thumb links";
  }
  .download-thumb {
    @apply block;
  }
}

/* Video caption */
.video {
  @apply my-6;
}
.videocaption {
  @apply flex text-base leading-[1.5em] justify-center mb-4;
}
.disable-selection {
  @apply select-none;
  -moz-user-select: none;

  /* Firefox */
  -ms-user-select: none;

  /* Internet Explorer */
  -webkit-user-select: none;

  /* Chrome, Safari, and Opera */
  -webkit-touch-callout: none;

  /* Disable Android and iOS callouts*/
}
.hidden {
  @apply hidden;
}

/*------------------------------------------------------------------*/
/* figures */
.figure {
  @apply mt-6 mb-4;
}
figcaption,
.figcaption {
  @apply text-[rgba(0,0,0,0.6)] text-xs leading-[1.5em];
}
h3.figtitle {
  @apply my-0;
}
.fig-title-line {
  @apply grid-cols-[2fr_0.75fr];
}
.fig-thumb-image-row {
  @apply grid-cols-[1fr_1fr] grid-rows-[1fr];
}
.fig-thumb-image-row-item {
  @apply w-full min-h-[auto] rounded-[var(--small-thumb-border-radius)];
}
.fig-dataset-button {
  @apply border cursor-pointer opacity-60 border-[rgba(0,0,0,0)] border-solid;
}
.fig-dataset-button.active {
  @apply border opacity-100 border-[rgba(0,0,0,0.7)] border-solid;
}
.fig-3-image-row {
  @apply grid-cols-[1fr_1.3fr_1fr] grid-rows-[1fr] mt-[1em];
}
.fig-3-image-item {
  @apply justify-self-center self-center w-full rounded-[var(--larger-thumb-border-radius)];
}
.fig-slider {
  @apply grid-cols-[auto_2fr] grid-rows-[1fr] justify-center mt-[1em];
  align-items: start;
}
.fig-slider img.play_button {
  @apply cursor-pointer justify-self-center mr-2;
}
.fig-slider svg {
  @apply touch-none;
}
.fig-preload {
  @apply hidden;
}

/*---------------------------------------------------------------*/
/* tables */
table {
  @apply w-full text-[0.9rem] leading-[1.6] text-[#212835] mx-0 my-8 border-collapse;
}
thead {
  @apply bg-[rgba(0,0,0,0.03)];
}
thead th {
  @apply font-semibold text-left text-[#082333] text-[0.95rem] px-4 py-3 border-b-2 border-b-[rgba(0,0,0,0.1)] border-solid;
  font-family: var(--font-barlow);
}
tbody tr {
  @apply border-b-[rgba(0,0,0,0.08)] border-b border-solid;
}
tbody tr:nth-child(even) {
  @apply bg-[rgba(0,0,0,0.02)];

  /* subtle zebra striping */
}
td {
  @apply align-top px-4 py-3;
}
